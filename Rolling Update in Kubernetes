We have an application running on Kubernetes cluster. Its using nginx web server. The Nautilus application development team has pushed some latest features to prod branch and same needs to be deployed. The Nautilus DevOps team has created an image nginx:1.17 with latest changes.


Change the deployment strategy to RollingUpdate. Perform a rolling update for this application and incorporate nginx:1.17 image.


First check the deployments & no.of pods are running or not
 
kubectl get deployment
kubectl get pods

Check the nginx version 

kubectl describe deployment nginx-deployment |  grep nginx                  --- it will show nginx version (Here nginx-deployment is deployment name)

Rolling-update ( Update image from current version to nginx:1.17

kubectl set image deployment/nginx-deployment nginx-container=nginx:1.17 --record

check the pods status 

kubectl rollout status deployment nginx-deployment

Check the image is updated or not 

kubectl describe deployment nginx-deployment | grep nginx
